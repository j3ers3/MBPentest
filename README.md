# MacBook Pro for Pentest
***
## Introduction ğŸ˜ˆ
**MBPentest**ï¼Œè‡ªå·±çš„MBPé…ç½®æ‰‹å†Œ


<br><br>

## Githubç›¸å…³
- [awesome-mac](https://github.com/jaywcjlove/awesome-mac)
- [my-mac-os](https://github.com/nikitavoloboev/my-mac-os)
- [Best-App](https://github.com/hzlzh/Best-App)


<br><br>

## å¿«æ·æ–¹å¼ ğŸŒš
- æ–°å»ºæ–‡ä»¶ `é€‰ä¸­æ–‡å­— -> æ‹–å‡ºå»`
- æ–°å»ºæ ‡ç­¾ `Command + T`
- æ–°å»ºçª—å£ `Command + N`
- åˆ‡æ¢æ ‡ç­¾ `Command + Num`
- å…³é—­æ ‡ç­¾ `Command + W`
- å…¨å± `Command + Control + F`
- è®¾ç½® `Command + ,`
- åˆ é™¤æ–‡ä»¶ `Command + Delete`
- æ¸…ç©ºåƒåœ¾æ¡¶ `Shift + Command + Delete`
- é”å± `Control + Command + Q`
- æˆªæ•´ä¸ªå±å¹• `Command + Shift + 3`
- æˆªå–é€‰æ‹©åŒºåŸŸ `Command + Shift + 4`                  
- æˆªå–bar `Command + Shift + 5`
- æœ€å°åŒ–çª—å£ `Command + M`
>command + tab ç„¶åæŒ‰optionæ¥æ¢å¤æœ€å°åŒ–çš„çª—å£
- å¿«é€Ÿéšè—çª—å£ `Command + H`
- æ‰“å¼€ä¾¿ç­¾ï¼Œå¿«é€Ÿè®°å½• `å¤åˆ¶-> Command + Shift + Y`
- åœ¨å½“å‰æ–‡ä»¶å¤¹è¿›å…¥ç»ˆç«¯(è‡ªå®šä¹‰) `Command + ;`
- finder è¿›å…¥ç›®å½• `Shift + Command + G`
- home `Control + a`
- end `Control + e`
- page down `fn + down`
- page up `fn + up`
- æ˜¾ç¤ºæ¡Œé¢ `F11 or å››ğŸˆ¯ï¸åˆ†å¼€`
- æ˜¾ç¤ºæ§åˆ¶å° `å››ğŸˆ¯ï¸ğŸˆ´ï¸æ‹¢`
- æŸ¥çœ‹å­—å…¸ `ä¸‰ğŸˆ¯ï¸ç‚¹å‡»`
- å‰è¿›\åé€€ `åŒğŸˆ¯ï¸å·¦å³æ»‘`


<br><br>

## Iterm2 ğŸ¦‡
- [å®˜ç½‘](https://iterm2.com/)

#### Install zsh
```bash
brew install zsh zsh-syntax-highlighting
```

#### Install oh-my-zsh
```bash
sh -c $(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)
```

#### Install powerlineå­—ä½“
```bash
git clone https://github.com/powerline/fonts.git
cd fonts
./install.sh
```
>é€‰çš„å­—ä½“Roboto Mono Medium for Powerline 14pt


#### é…ç½®
- Keys -> Hotkey è®¾ç½® `command + l` å¿«é€Ÿæ˜¾ç¤ºå’Œéšè— iTerm

- [æå¥½çš„é…è‰²](https://github.com/mbadolato/iTerm2-Color-Schemes)

![å­—ä½“](./screenshots/iterm2-font.png)


#### é…ç½®.zshrc
```bash
ZSH_THEME=ys
source /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

é…ç½®alias
alias proxy_ss="export http_proxy=http://127.0.0.1:1087;export https_proxy=http://127.0.0.1:1087;"
alias proxy_burp="export http_proxy=http://127.0.0.1:8080"
alias proxy_reset="unset http_proxy;unset https_proxy"
```

#### çª—å£æ“ä½œ
- shift + command + dï¼ˆæ¨ªåˆ‡ï¼‰
- command + dï¼ˆç«–åˆ‡ï¼‰
- command + [] ï¼ˆåˆ‡å±ï¼‰


<br><br>

## Homebrew ğŸ˜
**Homebrew**, OS X ç³»ç»Ÿä¸­æœ€å—æ¬¢è¿çš„åŒ…ç®¡ç†å·¥å…·

- [å®˜ç½‘](https://brew.sh)
- [Github](https://github.com/Homebrew/brew)
- Homebrew Cask [å®˜ç½‘](http://caskroom.io/)

1. Install
```ruby
ruby -e $(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)
```
>å®‰è£…å®Œæˆåï¼ŒHomebrew ä¼šå°†æœ¬åœ° /usr/local åˆå§‹åŒ–ä¸º git çš„å·¥ä½œæ ‘ï¼Œå¹¶å°†ç›®å½•æ‰€æœ‰è€…å˜æ›´ä¸ºå½“å‰æ‰€æ“ä½œçš„ç”¨æˆ·ï¼Œå°†æ¥ brew çš„ç›¸å…³æ“ä½œä¸éœ€è¦ sudo

2. Help
```bash
brew install         
brew cask install   
brew update
brew upgrade <package_name>
brew info <package_name> 
brew list --versions
brew cask list --versions
brew doctor
brew uninstall
brew cleanup 
brew services list
brew services start mysql
```


<br><br>

## Metasploit Framework ğŸ˜˜
- [Github](https://github.com/rapid7/metasploit-framework)

#### Install
- å®‰è£…rvm
```
curl -sSL https://get.rvm.io | bash -s stable
source /etc/profile.d/rvm.sh
rvm install 2.5.3
rvm use 2.5.3 --default
```

- bundle æ”¹æº
```bash
bundle config 'mirror.https://rubygems.org' 'https://ruby.taobao.org'
```

- install
```bash
git clone https://github.com/rapid7/metasploit-framework.git
brew install libxml2
brew install sqlite3
brew install postgresql
gem install bundle
bundle install
```

- è§£å†³pgå®‰è£…å¤±è´¥
```bash
sudo env ARCHFLAGS=-arch x86_64 gem install pg -v '0.20.0'
```

- è§£å†³sqlite3å®‰è£…å¤±è´¥
```bash
sudo gem install sqlite3 -v '1.3.13' -- --with-sqlite3-dir=/usr/local/opt   æŒ‡å®šsqlite3çš„è·¯å¾„
```

#### Postgresé…ç½®
- aliasé…ç½®
```bash
alias pg_start=pg_ctl -D /usr/local/var/postgres@9.6 -l /usr/local/var/postgres@9.6/server.log start
alias pg_start=pg_ctl -D /usr/local/var/postgres@9.6 -l /usr/local/var/postgres@9.6/server.log stop
```
- æ•°æ®åº“
```bash
createuser msf -P
createdb -p 5432 msfdb
psql -U msf msfdb
```

![msf](./screenshots/msf.png)


<br><br>

## Cobalt Strike ğŸ˜˜
- [å®˜ç½‘](https://www.cobaltstrike.com/)

#### ç®€å•ç ´è§£
```
0x01
    è§£å‹ cobaltstrike.jar
0x02 
    jad common\License.class
    å¾—åˆ° License.java
0x03
    vim License.java
    private static long life = 65535L
0x04 
    javacè¿›è¡Œç¼–è¯‘å¾—åˆ° License.class
    javac  common\License.java
0x05
    å°†License.class æ”¾å…¥cobaltstrike.jaråŸæ¥çš„ä½ç½®æ›¿æ¢
```

![cobalt](./screenshots/cobalt.png)


<br><br>

## ä»£ç†æ¨¡å¼ ğŸ¤ª
### 1. proxychains
#### Install
```bash
brew install proxychains-ng
```
#### é—®é¢˜
æ— æ³•å…¨éƒ¨ç¨‹åºä»£ç†ï¼Œåªèƒ½åœ¨homebrew binç›®å½•ä¸‹çš„ç¨‹åºå¯ä»£ç†
```bash
brew link curl  --force
proxychains curl ipconfig.io
```
### 2. Proxifier
- [å®˜ç½‘](https://www.proxifier.com)
> å†…ç½‘ç©¿é€å¸¸ç”¨

#### åºåˆ—å·
- L6Z8A-XY2J4-BTZ3P-ZZ7DF-A2Q9Cï¼ˆæºå¸¦ç‰ˆï¼‰
- 5EZ8G-C3WL5-B56YG-SCXM9-6QZAPï¼ˆæ ‡å‡†ç‰ˆï¼‰
- P427L-9Y552-5433E-8DSR3-58Z68ï¼ˆMACï¼‰

### 3. ShadowsocksX-NG
- [Github](https://github.com/shadowsocks/ShadowsocksX-NG)

```json
{
    "server":"0.0.0.0",
    "server_port":9999,
    "local_port":1080,
    "password":"pass",
    "timeout":600,
    "method":"aes-256-cfb"
}
```
### 4. ShadowsocksX-NG-R8
è€ç‰ˆæœ¬ï¼Œå…¼å®¹sså’Œssr
![ssr](./screenshots/ssr.png)

### 5. v2ray
- [Github](https://github.com/v2ray/v2ray-core)


<br><br>

## å¼€å‘ç¯å¢ƒç›¸å…³ ğŸ˜

### Sublime3

### IDEA

### Node

### Go


<br><br>

## ç›®å½•æƒ…å†µ ğŸ˜µ
- brew å®‰è£…ç¨‹åºç›®å½• `/usr/local/Cellar`  
- brew é…ç½®ç¨‹åºç›®å½• `/usr/local/etc`     
- /usr/local/Cellaré‡Œç¨‹åºçš„è½¯è¿æ¥ `/usr/local/opt`           
- dmgå®‰è£…çš„åº”ç”¨ `/Applications`            
- Xcode command line tools `/Library/Developer/CommandLineTools/usr/bin`
- iBooksä¹¦ç›®å½• `~/Library/containers/com.apple.BKAgentService/Data/Documents/iBooks/Books`
- pip `/usr/local/lib/python2.7/site-packages`
- pip3 `/usr/local/lib/python3.7/site-packages`
- å¼€æœºå¯åŠ¨ `~/Library/LaunchAgents`
- é©±åŠ¨ç›®å½• `/System/Library/Extensions`


<br><br>

## ä¸€äº›å‘½ä»¤ ğŸƒ
- say å°†æ–‡æœ¬è½¬ä¸ºè¯­éŸ³
```bash
say ä½ å¥½
say -v '?' | grep zh
say -v mei-jia ä½ å¥½
say -f test.txt -o test.aif #å°†æ–‡æœ¬è½¬æ¢ä¸ºéŸ³é¢‘
```

- æ˜¾ç¤ºç›‘å¬ç«¯å£
```bash
lsof -nP -iTCP -sTCP:LISTE
netstat -an | grep LISTEN
```

- å¼€æœºå¯åŠ¨å‘½ä»¤
```bash
launchctl list
launchctl stop com.philandro.anydesk
launchctl unload com.philandro.anydesk
```

- openå‘½ä»¤
```
open .     > æ‰“å¼€å½“å‰ç›®å½•
open -e    > æ‰“å¼€ç¼–è¾‘å™¨
```


<br><br>

### æ‚ä¸ƒæ‚å…«çš„é—®é¢˜ ğŸ˜³
- ç´¢å¼•
```bash
mds_stores
mdutil -a -i off
mdutil -a -i on
```

- ä¼‘çœ æ—¶æ–­ç½‘
```bash
sudo pmset -b tcpkeepalive 0  
```

- Mojaveä¸­å¼€å¯æ·±è‰²èœå•æ å’Œdockæ 
```
1. ä½¿ç”¨æµ…è‰²ä¸»é¢˜
2. defaults write -g NSRequiresAquaSystemAppearance -bool Yes
3. é€€å‡ºè´¦å·é‡æ–°ç™»å½•ï¼Œé€‰æ‹©æš—è‰²ä¸»é¢˜

> å®Œå…¨æ¢å¤æš—è‰²ä¸»é¢˜
> ä½¿ç”¨æµ…è‰²ä¸»é¢˜ä¸‹
> defaults write -g NSRequiresAquaSystemAppearance -bool No
```

- Termiusé”®ç›˜é•¿å®‰é—®é¢˜
```bash
defaults write -g ApplePressAndHoldEnabled -bool false
é‡å¯
```
    
- Finder æ ‡é¢˜æ˜¾ç¤ºè·¯å¾„
```bash
defaults write com.apple.finder _FXShowPosixPathInTitle -bool TRUE;killall Finder
æ¢å¤
defaults delete com.apple.finder _FXShowPosixPathInTitle;killall Finder
```
    
- å‘½ä»¤å·¥å…·ä¸­æ–‡å˜è‹±æ–‡
```bash
sudo languagesetup
```

- pdå·¥å…·çš„é—®é¢˜
```bash
mount -o exec /dev/cdrom /media/cdrom
cd /media/cdrom/
sudo ./install
```

<br><br>

![å°é¢](./screenshots/e.jpg)








